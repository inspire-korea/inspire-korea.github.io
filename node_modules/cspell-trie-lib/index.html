<!DOCTYPE html><html lang=""><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"/><link rel="manifest" href="/assets/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#000000"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="inspire korea"/><meta name="twitter:title" content="cspell-trie"/><meta name="twitter:description" content=""/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@DevYakuza"/><meta name="twitter:creator" content="@DevYakuza"/><title>cspell-trie - </title><meta name="description" content="책이나 자료를 통해 얻은 영감과 인사이트를 공유하여, 다른 분들도 영감을 얻기를 바랍니다."/><meta property="og:locale" content="ko"/><meta name="author" content="dev.yakuza@gmail.com"/><meta name="og:title" content="cspell-trie"/><meta name="og:description" content=""/><meta property="og:url" content="https://ink.posstree.com/node_modules/cspell-trie-lib/"/><meta property="og:site_name" content="cspell-trie"/><meta property="og:image" content="https://ink.posstree.com"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-01-11 17:21:04 +0900"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-2"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-2");</script><script data-ad-client="ca-pub-7987914246691031" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet"/><link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css"/><link rel="stylesheet" href="/assets/vendor/font-awesome/css/font-awesome.min.css"/><link rel="stylesheet" href="/assets/main.css?v=20250114"/><link rel="alternate" type="application/rss+xml" title="[ink] 인스파이어 코리아" href="/feed.xml"/><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://ink.posstree.com/",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://ink.posstree.com/",
      "logo": "https://ink.posstree.com/assets/images/icon.jpg"
    }
  </script><link rel="stylesheet" href="/assets/highlight/railscasts.css"/><script src="/assets/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="/assets//vendor/lazysizes/lazysizes.min.js" async=""></script></head><body><nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"><div class="container"><a class="navbar-brand" href="/"><img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> inspire korea </a><div class="navbar-menu-container"><div class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/ko/">Tech Blog</a></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/app/list/ko/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li></ul></div><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse" id="navbarResponsive"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/ko/">Tech Blog</a></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/app/list/ko/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li></ul></div></div></nav><script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script><header class="masthead"><div class="overlay"></div><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><div class="page-heading"><h1>cspell-trie</h1></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><h1 id="cspell-trie">cspell-trie</h1><p>Trie library for use with cspell</p><p>This library allows easily building of a <a href="https://en.wikipedia.org/wiki/Trie">Trie</a> from a word list.</p><p>The resulting trie can then be compressed into a <a href="https://en.wikipedia.org/wiki/Deterministic_acyclic_finite_state_automaton">DAFSA|DAWG</a>.</p><h3 id="installation">Installation</h3><div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-S</span> cspell-trie-lib
</code></pre></div></div><h2 id="file-format-v3">File Format V3</h2><h3 id="header">Header</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TrieXv3
base=10
# Comments
__DATA__
</code></pre></div></div><p>The header has two parts.</p><ul><li><code class="language-plaintext highlighter-rouge">TrieXv3</code> – the format identifier.</li><li>base – references are stored using the base (10, 16, 32) are common. higher the base, the smaller the file. Max is 36</li></ul><h3 id="data">Data</h3><p>The data is a stream of characters and operators. Each character represents a node in the Trie. The operators adjust the position in the Trie.</p><h3 id="conceptual-format">Conceptual Format</h3><p>Given a sorted list of words:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>joust
jouster
jousting
joy
joyful
joyfuller
joyfullest
</code></pre></div></div><p>It is possible to think of the same list stored as a series of operations.</p><table><thead><tr><th>op</th><th>Meaning</th></tr></thead><tbody><tr><td><code class="language-plaintext highlighter-rouge">&lt;</code></td><td>remove 1 character</td></tr><tr><td><code class="language-plaintext highlighter-rouge">&lt;&lt;</code></td><td>remove 2 characters</td></tr><tr><td><code class="language-plaintext highlighter-rouge">&lt;&lt;&lt;</code></td><td>remove 3 characters</td></tr><tr><td><code class="language-plaintext highlighter-rouge">&lt;2</code></td><td>remove 2 characters</td></tr><tr><td><code class="language-plaintext highlighter-rouge">&lt;3</code></td><td>remove 3 characters</td></tr><tr><td><code class="language-plaintext highlighter-rouge">$</code></td><td>end of word</td></tr><tr><td><code class="language-plaintext highlighter-rouge">_</code></td><td>visual place holder</td></tr></tbody></table><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>joust$
_____er$
_____&lt;&lt;
_____ing$
__&lt;&lt;&lt;&lt;&lt;&lt;
__y$
___ful$
______ler$
________&lt;
________st$
</code></pre></div></div><p>Becomes:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>joust$er$&lt;2ing$&lt;6y$ful$ler$&lt;st$
</code></pre></div></div><p>Trie:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>j─o┬u─s─t┬$
   │     ├e─r─$
   │     └i─n─g─$
   └y┬$
     └f─u─l┬$
           └l─e┬r─$
               └s─t─$
</code></pre></div></div><h3 id="data-format">Data Format</h3><table><thead><tr><th>op</th><th>Meaning</th></tr></thead><tbody><tr><td><code class="language-plaintext highlighter-rouge">&lt;</code></td><td>remove 1 character</td></tr><tr><td><code class="language-plaintext highlighter-rouge">&lt;n</code></td><td>remove n characters where <code class="language-plaintext highlighter-rouge">n</code> is <code class="language-plaintext highlighter-rouge">[2-9]</code> to remove 12 characters use <code class="language-plaintext highlighter-rouge">&lt;9&lt;3</code></td></tr><tr><td><code class="language-plaintext highlighter-rouge">$</code></td><td>end of word</td></tr><tr><td><code class="language-plaintext highlighter-rouge">\</code></td><td>escape next character. All characters can be escaped. <br/><code class="language-plaintext highlighter-rouge">\\</code> -&gt; <code class="language-plaintext highlighter-rouge">\</code><br/><code class="language-plaintext highlighter-rouge">\#</code> -&gt; <code class="language-plaintext highlighter-rouge">#</code><br/><code class="language-plaintext highlighter-rouge">\a</code> -&gt; <code class="language-plaintext highlighter-rouge">a</code></td></tr><tr><td><code class="language-plaintext highlighter-rouge">#n;</code></td><td>reference to an already imported trie node where <code class="language-plaintext highlighter-rouge">n</code> is the node number</td></tr></tbody></table><p><strong>Sample Data</strong></p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Big Apple$8races\: \{\}\[\]\(\)$9&lt;5
New York$7umbers \0\1\2\3\4\5\6\7\8\9$9&lt;9
ap#6;&lt;rrow \&lt;$7
big a#5;&lt;4urned$r$2ing$3s$$4
chalk#56;&lt;3u#54;&lt;3
eol \\n$3w \$$4scape \\\$8
fun journey$7wal#27;&lt;7
journalism$tic$2$3s$$2eyer$2man$2e#103;&lt;2$4ste#101;&lt;i#58;&lt;$3vialit#85;&lt;2$4wly$$2yfuller$st$4ness$4$3lessn#120;&lt;$4ou#125;&lt;2ridde#103;&lt;2er$$i#58;&lt;3od#8;&lt;3
stic#27;&lt;4$3
lift#56;&lt;3ong w#86;&lt;6
ref \#$5
t#61;&lt;
wa#62;&lt;2
</code></pre></div></div><h2 id="file-format-v1">File Format V1</h2><h3 id="header-1">Header</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TrieXv1
base=10
</code></pre></div></div><p>The header has two parts.</p><ul><li>TrieXv1 – the identifiers</li><li>base – offsets are stored using the base (10, 16, 32) are common. higher the base, the smaller the file. Max is 36</li></ul><h3 id="data-1">Data</h3><p>The first line of data is always a <code class="language-plaintext highlighter-rouge">*</code></p><p>Each line is a node in the Trie.</p><p>The format of each line is:</p><p><code class="language-plaintext highlighter-rouge">star [char index [, char index]*]</code></p><ul><li>star - the presence of a star indicates that the node is the ending of a word.</li><li>char - a character that can be appended to the word followed by the node at index.</li><li>index - the offset in the list of nodes to continue appending</li></ul><p>In other words, each line has an optional <code class="language-plaintext highlighter-rouge">*</code> followed by 0 or more (char, index) pairs. A missing index implies an index of 0, which is the end of word flag.</p><p><strong>Example Line:</strong><code class="language-plaintext highlighter-rouge">*s1,e</code> – The word can stop here, or add an <strong>s</strong> and continue at node <em>1</em>, or add an <strong>e</strong></p><h3 id="example">Example:</h3><p><strong>Word List:</strong></p><ul><li>walk</li><li>walked</li><li>walker</li><li>walking</li><li>walks</li><li>talk</li><li>talks</li><li>talked</li><li>talker</li><li>talking</li></ul><p>becomes</p><p><strong>Output:</strong> (Offsets are added for clarity, but do not exist in output)</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Offset  Output
------- --------
        TrieXv1
        base=10
0       *
1       d,r
2       g
3       n2
4       *e1,i3,s
5       k4
6       l5
7       a6
8       t7,w7
</code></pre></div></div><p>The root of the trie is the last offset, 8. It is designed for the entire trie to be in memory, which is why the root is at the end. This allows for efficiently building the trie as the file loads line by line, because each line can only refer to previous lines.</p><p>How to walk the data to see if “talks” is in it.</p><ol><li>Start with the root at offset 8.</li><li>t found goto 7</li><li>a found goto 6</li><li>l found goto 5</li><li>k found goto 4</li><li>s found stop (goto 0 is stop).</li></ol><h2 id="cspell-for-enterprise">CSpell for Enterprise</h2><p>Available as part of the Tidelift Subscription.</p><p>The maintainers of cspell and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source packages you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact packages you use. <a href="https://tidelift.com/subscription/pkg/npm-cspell?utm_source=npm-cspell&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo">Learn more.</a></p><p><br/></p><hr/><p align="center">Brought to you by<a href="https://streetsidesoftware.com" title="Street Side Software"><img width="16" alt="Street Side Software Logo" src="https://i.imgur.com/CyduuVY.png"/> Street Side Software</a></p></div></div></div><footer><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div><div class="col-lg-8 col-md-10 mx-auto"><ul class="list-inline text-center"><li class="list-inline-item"><a href="https://twitter.com/intent/tweet?text=cspell-trie&url=https://ink.posstree.com/node_modules/cspell-trie-lib/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Twitter </div></a></li><li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://ink.posstree.com/node_modules/cspell-trie-lib/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Facebook </div></a></li><li class="list-inline-item"><a href="https://ink.posstree.com/feed.xml" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> RSS </div></a></li></ul><p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2025 </p></div></div></div></footer><script src="/assets/vendor/jquery/jquery.min.js"></script><script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script><script src="/assets/scripts.js?v=20250114"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/railscasts.min.css"></body></html>