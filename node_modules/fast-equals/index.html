<!DOCTYPE html><html lang=""><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"/><link rel="manifest" href="/assets/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#000000"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="inspire korea"/><meta name="twitter:title" content="fast-equals"/><meta name="twitter:description" content=""/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@DevYakuza"/><meta name="twitter:creator" content="@DevYakuza"/><title>fast-equals - </title><meta name="description" content="책이나 자료를 통해 얻은 영감과 인사이트를 공유하여, 다른 분들도 영감을 얻기를 바랍니다."/><meta property="og:locale" content="ko"/><meta name="author" content="dev.yakuza@gmail.com"/><meta name="og:title" content="fast-equals"/><meta name="og:description" content=""/><meta property="og:url" content="https://ink.posstree.com/node_modules/fast-equals/"/><meta property="og:site_name" content="fast-equals"/><meta property="og:image" content="https://ink.posstree.com"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-01-11 17:21:04 +0900"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-2"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-2");</script><script data-ad-client="ca-pub-7987914246691031" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet"/><link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css"/><link rel="stylesheet" href="/assets/vendor/font-awesome/css/font-awesome.min.css"/><link rel="stylesheet" href="/assets/main.css?v=20250111"/><link rel="alternate" type="application/rss+xml" title="[ink] 인스파이어 코리아" href="/feed.xml"/><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://ink.posstree.com/",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://ink.posstree.com/",
      "logo": "https://ink.posstree.com/assets/images/icon.jpg"
    }
  </script><link rel="stylesheet" href="/assets/highlight/railscasts.css"/><script src="/assets/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="/assets//vendor/lazysizes/lazysizes.min.js" async=""></script></head><body><nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"><div class="container"><a class="navbar-brand" href="/"><img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> inspire korea </a><div class="navbar-menu-container"><div class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/ko/">Tech Blog</a></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/app/list/ko/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li></ul></div><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse" id="navbarResponsive"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/ko/">Tech Blog</a></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/app/list/ko/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li></ul></div></div></nav><script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script><header class="masthead"><div class="overlay"></div><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><div class="page-heading"><h1>fast-equals</h1></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><h1 id="fast-equals">fast-equals</h1><p><img src="https://img.shields.io/badge/build-passing-brightgreen.svg"/><img src="https://img.shields.io/badge/coverage-100%25-brightgreen.svg"/><img src="https://img.shields.io/badge/license-MIT-blue.svg"/></p><p>Perform <a href="#benchmarks">blazing fast</a> equality comparisons (either deep or shallow) on two objects passed, while also maintaining a high degree of flexibility for various implementation use-cases. It has no dependencies, and is ~1.8kB when minified and gzipped.</p><p>The following types are handled out-of-the-box:</p><ul><li>Plain objects (including <code class="language-plaintext highlighter-rouge">react</code> elements and <code class="language-plaintext highlighter-rouge">Arguments</code>)</li><li>Arrays</li><li>Typed Arrays</li><li><code class="language-plaintext highlighter-rouge">Date</code> objects</li><li><code class="language-plaintext highlighter-rouge">RegExp</code> objects</li><li><code class="language-plaintext highlighter-rouge">Map</code> / <code class="language-plaintext highlighter-rouge">Set</code> iterables</li><li><code class="language-plaintext highlighter-rouge">Promise</code> objects</li><li>Primitive wrappers (<code class="language-plaintext highlighter-rouge">new Boolean()</code> / <code class="language-plaintext highlighter-rouge">new Number()</code> / <code class="language-plaintext highlighter-rouge">new String()</code>)</li><li>Custom class instances, including subclasses of native classes</li></ul><p>Methods are available for deep, shallow, or referential equality comparison. In addition, you can opt into support for circular objects, or performing a “strict” comparison with unconventional property definition, or both. You can also customize any specific type comparison based on your application’s use-cases.</p><h2 id="table-of-contents">Table of contents</h2><ul><li><a href="#fast-equals">fast-equals</a><ul><li><a href="#table-of-contents">Table of contents</a></li><li><a href="#usage">Usage</a><ul><li><a href="#specific-builds">Specific builds</a></li></ul></li><li><a href="#available-methods">Available methods</a><ul><li><a href="#deepequal">deepEqual</a><ul><li><a href="#comparing-maps">Comparing <code class="language-plaintext highlighter-rouge">Map</code>s</a></li></ul></li><li><a href="#shallowequal">shallowEqual</a></li><li><a href="#samevaluezeroequal">sameValueZeroEqual</a></li><li><a href="#circulardeepequal">circularDeepEqual</a></li><li><a href="#circularshallowequal">circularShallowEqual</a></li><li><a href="#strictdeepequal">strictDeepEqual</a></li><li><a href="#strictshallowequal">strictShallowEqual</a></li><li><a href="#strictcirculardeepequal">strictCircularDeepEqual</a></li><li><a href="#strictcircularshallowequal">strictCircularShallowEqual</a></li><li><a href="#createcustomequal">createCustomEqual</a><ul><li><a href="#recipes">Recipes</a></li></ul></li></ul></li><li><a href="#benchmarks">Benchmarks</a></li><li><a href="#development">Development</a></li></ul></li></ul><h2 id="usage">Usage</h2><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">deepEqual</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fast-equals</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deepEqual</span><span class="p">({</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">}));</span> <span class="c1">// true</span>
</code></pre></div></div><h3 id="specific-builds">Specific builds</h3><p>By default, npm should resolve the correct build of the package based on your consumption (ESM vs CommonJS). However, if you want to force use of a specific build, they can be located here:</p><ul><li>ESM =&gt; <code class="language-plaintext highlighter-rouge">fast-equals/dist/esm/index.mjs</code></li><li>CommonJS =&gt; <code class="language-plaintext highlighter-rouge">fast-equals/dist/cjs/index.cjs</code></li><li>UMD =&gt; <code class="language-plaintext highlighter-rouge">fast-equals/dist/umd/index.js</code></li><li>Minified UMD =&gt; <code class="language-plaintext highlighter-rouge">fast-equals/dist/min/index.js</code></li></ul><p>If you are having issues loading a specific build type, <a href="https://github.com/planttheidea/fast-equals/issues">please file an issue</a>.</p><h2 id="available-methods">Available methods</h2><h3 id="deepequal">deepEqual</h3><p>Performs a deep equality comparison on the two objects passed and returns a boolean representing the value equivalency of the objects.</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">deepEqual</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fast-equals</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">objectA</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="p">{</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span> <span class="p">}</span> <span class="p">};</span>
<span class="kd">const</span> <span class="nx">objectB</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="p">{</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">objectA</span> <span class="o">===</span> <span class="nx">objectB</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">deepEqual</span><span class="p">(</span><span class="nx">objectA</span><span class="p">,</span> <span class="nx">objectB</span><span class="p">));</span> <span class="c1">// true</span>
</code></pre></div></div><h4 id="comparing-maps">Comparing <code class="language-plaintext highlighter-rouge">Map</code>s</h4><p><code class="language-plaintext highlighter-rouge">Map</code> objects support complex keys (objects, Arrays, etc.), however <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#key_equality">the spec for key lookups in <code class="language-plaintext highlighter-rouge">Map</code> are based on <code class="language-plaintext highlighter-rouge">SameZeroValue</code></a>. If the spec were followed for comparison, the following would always be <code class="language-plaintext highlighter-rouge">false</code>:</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mapA</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">([[{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">baz</span><span class="p">:</span> <span class="dl">'</span><span class="s1">quz</span><span class="dl">'</span> <span class="p">}]]);</span>
<span class="kd">const</span> <span class="nx">mapB</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">([[{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">baz</span><span class="p">:</span> <span class="dl">'</span><span class="s1">quz</span><span class="dl">'</span> <span class="p">}]]);</span>

<span class="nx">deepEqual</span><span class="p">(</span><span class="nx">mapA</span><span class="p">,</span> <span class="nx">mapB</span><span class="p">);</span>
</code></pre></div></div><p>To support true deep equality of all contents, <code class="language-plaintext highlighter-rouge">fast-equals</code> will perform a deep equality comparison for key and value parirs. Therefore, the above would be <code class="language-plaintext highlighter-rouge">true</code>.</p><h3 id="shallowequal">shallowEqual</h3><p>Performs a shallow equality comparison on the two objects passed and returns a boolean representing the value equivalency of the objects.</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">shallowEqual</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fast-equals</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">nestedObject</span> <span class="o">=</span> <span class="p">{</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span> <span class="p">};</span>

<span class="kd">const</span> <span class="nx">objectA</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="nx">nestedObject</span> <span class="p">};</span>
<span class="kd">const</span> <span class="nx">objectB</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="nx">nestedObject</span> <span class="p">};</span>
<span class="kd">const</span> <span class="nx">objectC</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="p">{</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">objectA</span> <span class="o">===</span> <span class="nx">objectB</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shallowEqual</span><span class="p">(</span><span class="nx">objectA</span><span class="p">,</span> <span class="nx">objectB</span><span class="p">));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shallowEqual</span><span class="p">(</span><span class="nx">objectA</span><span class="p">,</span> <span class="nx">objectC</span><span class="p">));</span> <span class="c1">// false</span>
</code></pre></div></div><h3 id="samevaluezeroequal">sameValueZeroEqual</h3><p>Performs a <a href="http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero"><code class="language-plaintext highlighter-rouge">SameValueZero</code></a> comparison on the two objects passed and returns a boolean representing the value equivalency of the objects. In simple terms, this means either strictly equal or both <code class="language-plaintext highlighter-rouge">NaN</code>.</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">sameValueZeroEqual</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fast-equals</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">mainObject</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="kc">NaN</span><span class="p">,</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span> <span class="p">};</span>

<span class="kd">const</span> <span class="nx">objectA</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">objectB</span> <span class="o">=</span> <span class="kc">NaN</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">objectC</span> <span class="o">=</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="kc">NaN</span><span class="p">,</span> <span class="na">bar</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span> <span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sameValueZeroEqual</span><span class="p">(</span><span class="nx">mainObject</span><span class="p">.</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">objectA</span><span class="p">));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sameValueZeroEqual</span><span class="p">(</span><span class="nx">mainObject</span><span class="p">.</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">objectB</span><span class="p">));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sameValueZeroEqual</span><span class="p">(</span><span class="nx">mainObject</span><span class="p">,</span> <span class="nx">objectC</span><span class="p">));</span> <span class="c1">// false</span>
</code></pre></div></div><h3 id="circulardeepequal">circularDeepEqual</h3><p>Performs the same comparison as <code class="language-plaintext highlighter-rouge">deepEqual</code> but supports circular objects. It is slower than <code class="language-plaintext highlighter-rouge">deepEqual</code>, so only use if you know circular objects are present.</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Circular</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">me</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">deeply</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">nested</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">reference</span><span class="p">:</span> <span class="k">this</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">},</span>
    <span class="nx">value</span><span class="p">,</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularDeepEqual</span><span class="p">(</span><span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">)));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularDeepEqual</span><span class="p">(</span><span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">),</span> <span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span><span class="p">)));</span> <span class="c1">// false</span>
</code></pre></div></div><p>Just as with <code class="language-plaintext highlighter-rouge">deepEqual</code>, <a href="#comparing-maps">both keys and values are compared for deep equality</a>.</p><h3 id="circularshallowequal">circularShallowEqual</h3><p>Performs the same comparison as <code class="language-plaintext highlighter-rouge">shallowequal</code> but supports circular objects. It is slower than <code class="language-plaintext highlighter-rouge">shallowEqual</code>, so only use if you know circular objects are present.</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularShallowEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">,</span> <span class="nx">array</span><span class="p">]));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularShallowEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="p">[</span><span class="nx">array</span><span class="p">]));</span> <span class="c1">// false</span>
</code></pre></div></div><h3 id="strictdeepequal">strictDeepEqual</h3><p>Performs the same comparison as <code class="language-plaintext highlighter-rouge">deepEqual</code> but performs a strict comparison of the objects. In this includes:</p><ul><li>Checking symbol properties</li><li>Checking non-enumerable properties in object comparisons</li><li>Checking full descriptor of properties on the object to match</li><li>Checking non-index properties on arrays</li><li>Checking non-key properties on <code class="language-plaintext highlighter-rouge">Map</code> / <code class="language-plaintext highlighter-rouge">Set</code> objects</li></ul><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">}];</span>
<span class="kd">const</span> <span class="nx">otherArray</span> <span class="o">=</span> <span class="p">[{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">}];</span>

<span class="nx">array</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">otherArray</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strictDeepEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">otherArray</span><span class="p">));</span> <span class="c1">// true;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strictDeepEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="p">[{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">}]));</span> <span class="c1">// false;</span>
</code></pre></div></div><h3 id="strictshallowequal">strictShallowEqual</h3><p>Performs the same comparison as <code class="language-plaintext highlighter-rouge">shallowEqual</code> but performs a strict comparison of the objects. In this includes:</p><ul><li>Checking non-enumerable properties in object comparisons</li><li>Checking full descriptor of properties on the object to match</li><li>Checking non-index properties on arrays</li><li>Checking non-key properties on <code class="language-plaintext highlighter-rouge">Map</code> / <code class="language-plaintext highlighter-rouge">Set</code> objects</li></ul><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">];</span>
<span class="kd">const</span> <span class="nx">otherArray</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">array</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">otherArray</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strictDeepEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">otherArray</span><span class="p">));</span> <span class="c1">// true;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strictDeepEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">]));</span> <span class="c1">// false;</span>
</code></pre></div></div><h3 id="strictcirculardeepequal">strictCircularDeepEqual</h3><p>Performs the same comparison as <code class="language-plaintext highlighter-rouge">circularDeepEqual</code> but performs a strict comparison of the objects. In this includes:</p><ul><li>Checking <code class="language-plaintext highlighter-rouge">Symbol</code> properties on the object</li><li>Checking non-enumerable properties in object comparisons</li><li>Checking full descriptor of properties on the object to match</li><li>Checking non-index properties on arrays</li><li>Checking non-key properties on <code class="language-plaintext highlighter-rouge">Map</code> / <code class="language-plaintext highlighter-rouge">Set</code> objects</li></ul><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Circular</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">me</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">deeply</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">nested</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">reference</span><span class="p">:</span> <span class="k">this</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">},</span>
    <span class="nx">value</span><span class="p">,</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">first</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">);</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">enumerable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">second</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">);</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">second</span><span class="p">,</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">enumerable</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularDeepEqual</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">second</span><span class="p">));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularDeepEqual</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Circular</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">)));</span> <span class="c1">// false</span>
</code></pre></div></div><h3 id="strictcircularshallowequal">strictCircularShallowEqual</h3><p>Performs the same comparison as <code class="language-plaintext highlighter-rouge">circularShallowEqual</code> but performs a strict comparison of the objects. In this includes:</p><ul><li>Checking non-enumerable properties in object comparisons</li><li>Checking full descriptor of properties on the object to match</li><li>Checking non-index properties on arrays</li><li>Checking non-key properties on <code class="language-plaintext highlighter-rouge">Map</code> / <code class="language-plaintext highlighter-rouge">Set</code> objects</li></ul><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">];</span>
<span class="kd">const</span> <span class="nx">otherArray</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">];</span>

<span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
<span class="nx">otherArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">otherArray</span><span class="p">);</span>

<span class="nx">array</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">otherArray</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">baz</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularShallowEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">otherArray</span><span class="p">));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circularShallowEqual</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">,</span> <span class="nx">array</span><span class="p">]));</span> <span class="c1">// false</span>
</code></pre></div></div><h3 id="createcustomequal">createCustomEqual</h3><p>Creates a custom equality comparator that will be used on nested values in the object. Unlike <code class="language-plaintext highlighter-rouge">deepEqual</code> and <code class="language-plaintext highlighter-rouge">shallowEqual</code>, this is a factory method that receives the default options used internally, and allows you to override the defaults as needed. This is generally for extreme edge-cases, or supporting legacy environments.</p><p>The signature is as follows:</p><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">Cache</span><span class="o">&lt;</span><span class="nx">Key</span> <span class="kd">extends</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">Value</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">delete</span><span class="p">(</span><span class="na">key</span><span class="p">:</span> <span class="nx">Key</span><span class="p">):</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="kd">get</span><span class="p">(</span><span class="na">key</span><span class="p">:</span> <span class="nx">Key</span><span class="p">):</span> <span class="nx">Value</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
  <span class="kd">set</span><span class="p">(</span><span class="na">key</span><span class="p">:</span> <span class="nx">Key</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="kr">any</span><span class="p">):</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ComparatorConfig</span><span class="o">&lt;</span><span class="nx">Meta</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="na">areArraysEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="kr">any</span><span class="p">[],</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areDatesEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="nb">Date</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areErrorsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="nb">Error</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areFunctionsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="p">(...</span><span class="na">args</span><span class="p">:</span> <span class="kr">any</span><span class="p">[])</span> <span class="o">=&gt;</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areMapsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="nb">Map</span><span class="o">&lt;</span><span class="kr">any</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areObjectsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">arePrimitiveWrappersEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span>
    <span class="nx">boolean</span> <span class="o">|</span> <span class="kr">string</span> <span class="o">|</span> <span class="kr">number</span><span class="p">,</span>
    <span class="nx">Meta</span>
  <span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areRegExpsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="nb">RegExp</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areSetsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparator</span><span class="o">&lt;</span><span class="nb">Set</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areTypedArraysEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparatory</span><span class="o">&lt;</span><span class="nx">TypedArray</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">areUrlsEqual</span><span class="p">:</span> <span class="nx">TypeEqualityComparatory</span><span class="o">&lt;</span><span class="nx">URL</span><span class="p">,</span> <span class="nx">Meta</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createCustomEqual</span><span class="o">&lt;</span><span class="nx">Meta</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">options</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">circular</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">createCustomConfig</span><span class="p">?:</span> <span class="p">(</span>
    <span class="nx">defaultConfig</span><span class="p">:</span> <span class="nx">ComparatorConfig</span><span class="o">&lt;</span><span class="nx">Meta</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">Partial</span><span class="o">&lt;</span><span class="nx">ComparatorConfig</span><span class="o">&lt;</span><span class="nx">Meta</span><span class="o">&gt;&gt;</span><span class="p">;</span>
  <span class="nl">createInternalComparator</span><span class="p">?:</span> <span class="p">(</span>
    <span class="nx">compare</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">A</span><span class="p">,</span> <span class="nx">B</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">A</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">B</span><span class="p">,</span> <span class="nx">state</span><span class="p">:</span> <span class="nx">State</span><span class="o">&lt;</span><span class="nx">Meta</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">,</span>
  <span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="nx">a</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">indexOrKeyA</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">indexOrKeyB</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">parentA</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">parentB</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="nx">state</span><span class="p">:</span> <span class="nx">State</span><span class="o">&lt;</span><span class="nx">Meta</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">createState</span><span class="p">?:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">cache</span><span class="p">?:</span> <span class="nx">Cache</span><span class="p">;</span> <span class="nl">meta</span><span class="p">?:</span> <span class="nx">Meta</span> <span class="p">};</span>
  <span class="nl">strict</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}):</span> <span class="o">&lt;</span><span class="nx">A</span><span class="p">,</span> <span class="nx">B</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">A</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">B</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
</code></pre></div></div><p>Create a custom equality comparator. This allows complete control over building a bespoke equality method, in case your use-case requires a higher degree of performance, legacy environment support, or any other non-standard usage. The <a href="#recipes">recipes</a> provide examples of use in different use-cases, but if you have a specific goal in mind and would like assistance feel free to <a href="https://github.com/planttheidea/fast-equals/issues">file an issue</a>.</p><p><em><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">Map</code> implementations compare equality for both keys and value. When using a custom comparator and comparing equality of the keys, the iteration index is provided as both <code class="language-plaintext highlighter-rouge">indexOrKeyA</code> and <code class="language-plaintext highlighter-rouge">indexOrKeyB</code> to help use-cases where ordering of keys matters to equality.</em></p><h4 id="recipes">Recipes</h4><p>Some recipes have been created to provide examples of use-cases for <code class="language-plaintext highlighter-rouge">createCustomEqual</code>. Even if not directly applicable to the problem you are solving, they can offer guidance of how to structure your solution.</p><ul><li><a href="/node_modules/fast-equals/recipes/legacy-regexp-support/">Legacy environment support for <code class="language-plaintext highlighter-rouge">RegExp</code> comparators</a></li><li><a href="/node_modules/fast-equals/recipes/explicit-property-check/">Explicit property check</a></li><li><a href="/node_modules/fast-equals/recipes/using-meta-in-comparison/">Using <code class="language-plaintext highlighter-rouge">meta</code> in comparison</a></li><li><a href="/node_modules/fast-equals/recipes/non-standard-properties/">Comparing non-standard properties</a></li><li><a href="./recipes/strict-property-descriptor-check.md">Strict property descriptor comparison</a></li><li><a href="/node_modules/fast-equals/recipes/legacy-circular-equal-support/">Legacy environment support for circualr equal comparators</a></li></ul><h2 id="benchmarks">Benchmarks</h2><p>All benchmarks were performed on an i9-11900H Ubuntu Linux 24.04 laptop with 64GB of memory using NodeJS version <code class="language-plaintext highlighter-rouge">20.17.0</code>, and are based on averages of running comparisons based deep equality on the following object types:</p><ul><li>Primitives (<code class="language-plaintext highlighter-rouge">String</code>, <code class="language-plaintext highlighter-rouge">Number</code>, <code class="language-plaintext highlighter-rouge">null</code>, <code class="language-plaintext highlighter-rouge">undefined</code>)</li><li><code class="language-plaintext highlighter-rouge">Function</code></li><li><code class="language-plaintext highlighter-rouge">Object</code></li><li><code class="language-plaintext highlighter-rouge">Array</code></li><li><code class="language-plaintext highlighter-rouge">Date</code></li><li><code class="language-plaintext highlighter-rouge">RegExp</code></li><li><code class="language-plaintext highlighter-rouge">react</code> elements</li><li>A mixed object with a combination of all the above types</li></ul><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Testing mixed objects equal...
┌─────────┬─────────────────────────────────┬────────────────┐
│ <span class="o">(</span>index<span class="o">)</span> │ Package                         │ Ops/sec        │
├─────────┼─────────────────────────────────┼────────────────┤
│ 0       │ <span class="s1">'fast-equals'</span>                   │ 1256867.529926 │
│ 1       │ <span class="s1">'fast-deep-equal'</span>               │ 1207041.997437 │
│ 2       │ <span class="s1">'shallow-equal-fuzzy'</span>           │ 1142536.391324 │
│ 3       │ <span class="s1">'react-fast-compare'</span>            │ 1140373.249605 │
│ 4       │ <span class="s1">'dequal/lite'</span>                   │ 708240.354044  │
│ 5       │ <span class="s1">'dequal'</span>                        │ 704655.931143  │
│ 6       │ <span class="s1">'fast-equals (circular)'</span>        │ 595853.718756  │
│ 7       │ <span class="s1">'underscore.isEqual'</span>            │ 433596.570863  │
│ 8       │ <span class="s1">'assert.deepStrictEqual'</span>        │ 310595.198662  │
│ 9       │ <span class="s1">'lodash.isEqual'</span>                │ 232192.454526  │
│ 10      │ <span class="s1">'fast-equals (strict)'</span>          │ 175941.250843  │
│ 11      │ <span class="s1">'fast-equals (strict circular)'</span> │ 154606.328398  │
│ 12      │ <span class="s1">'deep-eql'</span>                      │ 136052.484375  │
│ 13      │ <span class="s1">'deep-equal'</span>                    │ 854.061311     │
└─────────┴─────────────────────────────────┴────────────────┘

Testing mixed objects not equal...
┌─────────┬─────────────────────────────────┬────────────────┐
│ <span class="o">(</span>index<span class="o">)</span> │ Package                         │ Ops/sec        │
├─────────┼─────────────────────────────────┼────────────────┤
│ 0       │ <span class="s1">'fast-equals'</span>                   │ 3795307.779634 │
│ 1       │ <span class="s1">'fast-deep-equal'</span>               │ 2987150.35694  │
│ 2       │ <span class="s1">'react-fast-compare'</span>            │ 2733075.404272 │
│ 3       │ <span class="s1">'fast-equals (circular)'</span>        │ 2311547.685659 │
│ 4       │ <span class="s1">'dequal/lite'</span>                   │ 1156909.54415  │
│ 5       │ <span class="s1">'dequal'</span>                        │ 1151209.161878 │
│ 6       │ <span class="s1">'fast-equals (strict)'</span>          │ 1102248.247412 │
│ 7       │ <span class="s1">'fast-equals (strict circular)'</span> │ 1020639.089577 │
│ 8       │ <span class="s1">'nano-equal'</span>                    │ 1009557.685012 │
│ 9       │ <span class="s1">'underscore.isEqual'</span>            │ 770286.698227  │
│ 10      │ <span class="s1">'lodash.isEqual'</span>                │ 296338.570457  │
│ 11      │ <span class="s1">'deep-eql'</span>                      │ 152741.182224  │
│ 12      │ <span class="s1">'assert.deepStrictEqual'</span>        │ 20163.203513   │
│ 13      │ <span class="s1">'deep-equal'</span>                    │ 3519.448516    │
└─────────┴─────────────────────────────────┴────────────────┘
</code></pre></div></div><p>Caveats that impact the benchmark (and accuracy of comparison):</p><ul><li><code class="language-plaintext highlighter-rouge">Map</code>s, <code class="language-plaintext highlighter-rouge">Promise</code>s, and <code class="language-plaintext highlighter-rouge">Set</code>s were excluded from the benchmark entirely because no library other than <code class="language-plaintext highlighter-rouge">deep-eql</code> fully supported their comparison</li><li><code class="language-plaintext highlighter-rouge">fast-deep-equal</code>, <code class="language-plaintext highlighter-rouge">react-fast-compare</code> and <code class="language-plaintext highlighter-rouge">nano-equal</code> throw on objects with <code class="language-plaintext highlighter-rouge">null</code> as prototype (<code class="language-plaintext highlighter-rouge">Object.create(null)</code>)</li><li><code class="language-plaintext highlighter-rouge">assert.deepStrictEqual</code> does not support <code class="language-plaintext highlighter-rouge">NaN</code> or <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for dates</li><li><code class="language-plaintext highlighter-rouge">deep-eql</code> does not support <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for zero equality (positive and negative zero are not equal)</li><li><code class="language-plaintext highlighter-rouge">deep-equal</code> does not support <code class="language-plaintext highlighter-rouge">NaN</code> and does not strictly compare object type, or date / regexp values, nor uses <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for dates</li><li><code class="language-plaintext highlighter-rouge">fast-deep-equal</code> does not support <code class="language-plaintext highlighter-rouge">NaN</code> or <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for dates</li><li><code class="language-plaintext highlighter-rouge">nano-equal</code> does not strictly compare object property structure, array length, or object type, nor <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for dates</li><li><code class="language-plaintext highlighter-rouge">react-fast-compare</code> does not support <code class="language-plaintext highlighter-rouge">NaN</code> or <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for dates, and does not compare <code class="language-plaintext highlighter-rouge">function</code> equality</li><li><code class="language-plaintext highlighter-rouge">shallow-equal-fuzzy</code> does not strictly compare object type or regexp values, nor <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for dates</li><li><code class="language-plaintext highlighter-rouge">underscore.isEqual</code> does not support <code class="language-plaintext highlighter-rouge">SameValueZero</code> equality for primitives or dates</li></ul><p>All of these have the potential of inflating the respective library’s numbers in comparison to <code class="language-plaintext highlighter-rouge">fast-equals</code>, but it was the closest apples-to-apples comparison I could create of a reasonable sample size. It should be noted that <code class="language-plaintext highlighter-rouge">react</code> elements can be circular objects, however simple elements are not; I kept the <code class="language-plaintext highlighter-rouge">react</code> comparison very basic to allow it to be included.</p><h2 id="development">Development</h2><p>Standard practice, clone the repo and <code class="language-plaintext highlighter-rouge">npm i</code> to get the dependencies. The following npm scripts are available:</p><ul><li>benchmark =&gt; run benchmark tests against other equality libraries</li><li>build =&gt; build <code class="language-plaintext highlighter-rouge">main</code>, <code class="language-plaintext highlighter-rouge">module</code>, and <code class="language-plaintext highlighter-rouge">browser</code> distributables with <code class="language-plaintext highlighter-rouge">rollup</code></li><li>clean =&gt; run <code class="language-plaintext highlighter-rouge">rimraf</code> on the <code class="language-plaintext highlighter-rouge">dist</code> folder</li><li>dev =&gt; start webpack playground App</li><li>dist =&gt; run <code class="language-plaintext highlighter-rouge">build</code></li><li>lint =&gt; run ESLint on all files in <code class="language-plaintext highlighter-rouge">src</code> folder (also runs on <code class="language-plaintext highlighter-rouge">dev</code> script)</li><li>lint:fix =&gt; run <code class="language-plaintext highlighter-rouge">lint</code> script, but with auto-fixer</li><li>prepublish:compile =&gt; run <code class="language-plaintext highlighter-rouge">lint</code>, <code class="language-plaintext highlighter-rouge">test:coverage</code>, <code class="language-plaintext highlighter-rouge">transpile:lib</code>, <code class="language-plaintext highlighter-rouge">transpile:es</code>, and <code class="language-plaintext highlighter-rouge">dist</code> scripts</li><li>start =&gt; run <code class="language-plaintext highlighter-rouge">dev</code></li><li>test =&gt; run AVA with NODE_ENV=test on all files in <code class="language-plaintext highlighter-rouge">test</code> folder</li><li>test:coverage =&gt; run same script as <code class="language-plaintext highlighter-rouge">test</code> with code coverage calculation via <code class="language-plaintext highlighter-rouge">nyc</code></li><li>test:watch =&gt; run same script as <code class="language-plaintext highlighter-rouge">test</code> but keep persistent watcher</li></ul></div></div></div><footer><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div><div class="col-lg-8 col-md-10 mx-auto"><ul class="list-inline text-center"><li class="list-inline-item"><a href="https://twitter.com/intent/tweet?text=fast-equals&url=https://ink.posstree.com/node_modules/fast-equals/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Twitter </div></a></li><li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://ink.posstree.com/node_modules/fast-equals/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Facebook </div></a></li><li class="list-inline-item"><a href="https://ink.posstree.com/feed.xml" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> RSS </div></a></li></ul><p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2025 </p></div></div></div></footer><script src="/assets/vendor/jquery/jquery.min.js"></script><script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script><script src="/assets/scripts.js?v=20250111"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/railscasts.min.css"></body></html>