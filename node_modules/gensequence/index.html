<!DOCTYPE html><html lang=""><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"/><link rel="manifest" href="/assets/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#000000"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="inspire korea"/><meta name="twitter:title" content="GenSequence"/><meta name="twitter:description" content=""/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@DevYakuza"/><meta name="twitter:creator" content="@DevYakuza"/><title>GenSequence - </title><meta name="description" content="책이나 자료를 통해 얻은 영감과 인사이트를 공유하여, 다른 분들도 영감을 얻기를 바랍니다."/><meta property="og:locale" content="ko"/><meta name="author" content="dev.yakuza@gmail.com"/><meta name="og:title" content="GenSequence"/><meta name="og:description" content=""/><meta property="og:url" content="https://ink.posstree.com/node_modules/gensequence/"/><meta property="og:site_name" content="GenSequence"/><meta property="og:image" content="https://ink.posstree.com"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-01-11 17:21:04 +0900"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-2"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-2");</script><script data-ad-client="ca-pub-7987914246691031" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet"/><link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css"/><link rel="stylesheet" href="/assets/vendor/font-awesome/css/font-awesome.min.css"/><link rel="stylesheet" href="/assets/main.css?v=20250112"/><link rel="alternate" type="application/rss+xml" title="[ink] 인스파이어 코리아" href="/feed.xml"/><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://ink.posstree.com/",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://ink.posstree.com/",
      "logo": "https://ink.posstree.com/assets/images/icon.jpg"
    }
  </script><link rel="stylesheet" href="/assets/highlight/railscasts.css"/><script src="/assets/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="/assets//vendor/lazysizes/lazysizes.min.js" async=""></script></head><body><nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"><div class="container"><a class="navbar-brand" href="/"><img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> inspire korea </a><div class="navbar-menu-container"><div class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/ko/">Tech Blog</a></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/app/list/ko/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li></ul></div><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse" id="navbarResponsive"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/ko/">Tech Blog</a></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href="https://dev-yakuza.github.io/app/list/ko/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/contact/">Contact</a></li></ul></div></div></nav><script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script><header class="masthead"><div class="overlay"></div><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><div class="page-heading"><h1>GenSequence</h1></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><h1 id="gensequence">GenSequence</h1><p><a href="https://coveralls.io/github/streetsidesoftware/GenSequence?branch=main"><img src="https://coveralls.io/repos/github/streetsidesoftware/GenSequence/badge.svg?branch=main" alt="Coverage Status"/></a></p><p>Small library to simplify working with Generators and Iterators in Javascript / Typescript</p><p>Javascript <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Iterators_and_Generators">Iterators and Generators</a> are very exciting and provide some powerful new ways to solve programming problems.</p><p>The purpose of this library is to make using the results of a generator function easier. It is not intended as a replacement for arrays and the convenient <code class="language-plaintext highlighter-rouge">[...genFn()]</code> notation. GenSequence is useful for cases where you might not want an array of all possible values. GenSequence deals efficiently with large sequences because only one element at a time is evaluated. Intermediate arrays are not created, saving memory and cpu cycles.</p><h2 id="installation">Installation</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install -S gensequence
</code></pre></div></div><h2 id="usage">Usage</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import { genSequence } from 'gensequence';
</code></pre></div></div><h2 id="examples">Examples</h2><h3 id="fibonacci">Fibonacci</h3><p>The Fibonacci sequence can be very simply expressed using a generator. Yet using the result of a generator can be a bit convoluted. GenSequence provides a wrapper to add familiar functionality similar to arrays.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">fibonacci</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">function</span><span class="o">*</span> <span class="nx">fib</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">];</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">yield</span> <span class="nx">b</span><span class="p">;</span>
      <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// Wrapper the Iterator result from calling the generator.</span>
  <span class="k">return</span> <span class="nx">genSequence</span><span class="p">(</span><span class="nx">fib</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">fib5</span> <span class="o">=</span> <span class="nx">fibonacci</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1">// Take the first 5 from the fibonacci sequence</span>
  <span class="p">.</span><span class="nx">toArray</span><span class="p">();</span> <span class="c1">// Convert it into an array</span>
<span class="c1">// fib5 == [1, 1, 2, 3, 5]</span>

<span class="kd">let</span> <span class="nx">fib6n7seq</span> <span class="o">=</span> <span class="nx">fibonacci</span><span class="p">().</span><span class="nx">skip</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="nx">take</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">fib6n7arr</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">fib6n7seq</span><span class="p">];</span> <span class="c1">// GenSequence are easily converted into arrays.</span>

<span class="kd">let</span> <span class="nx">fib5th</span> <span class="o">=</span> <span class="nx">fibonacci</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">skip</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1">// Skip the first 4</span>
  <span class="p">.</span><span class="nx">first</span><span class="p">();</span> <span class="c1">// Return the next one.</span>
</code></pre></div></div><h3 id="regex-match">RegEx Match</h3><p>Regular expressions are wonderfully powerful. Yet, working with the results can sometimes be a bit of a pain.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span><span class="o">*</span> <span class="nx">execRegEx</span><span class="p">(</span><span class="nx">reg</span><span class="p">:</span> <span class="nb">RegExp</span><span class="p">,</span> <span class="nx">text</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">regLocal</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">reg</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">r</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">((</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">regLocal</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">text</span><span class="p">)))</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="nx">r</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* return a sequence of matched text */</span>
<span class="kd">function</span> <span class="nx">match</span><span class="p">(</span><span class="nx">reg</span><span class="p">:</span> <span class="nb">RegExp</span><span class="p">,</span> <span class="nx">text</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="nx">genSequence</span><span class="p">(</span><span class="nx">execRegEx</span><span class="p">(</span><span class="nx">reg</span><span class="p">,</span> <span class="nx">text</span><span class="p">))</span>
      <span class="c1">// extract the full match</span>
      <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* extract words out of a string of text */</span>
<span class="kd">function</span> <span class="nx">matchWords</span><span class="p">(</span><span class="nx">text</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">genSequence</span><span class="p">(</span><span class="nx">match</span><span class="p">(</span><span class="sr">/</span><span class="se">\w</span><span class="sr">+/g</span><span class="p">,</span> <span class="nx">text</span><span class="p">));</span>
<span class="p">}</span>

<span class="cm">/* convert some text into a set of unique words */</span>
<span class="kd">function</span> <span class="nx">toSetOfWords</span><span class="p">(</span><span class="nx">text</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Sequence can be used directly with a Set or Match</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">matchWords</span><span class="p">(</span><span class="nx">text</span><span class="p">));</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Some long bit of text with many words, duplicate words...</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">setOfWords</span> <span class="o">=</span> <span class="nx">toSetOfWords</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
<span class="c1">// Walk through the set of words and pull out the 4 letter one.</span>
<span class="kd">const</span> <span class="nx">setOf4LetterWords</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">genSequence</span><span class="p">(</span><span class="nx">setOfWords</span><span class="p">).</span><span class="nx">filter</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">4</span><span class="p">));</span>
</code></pre></div></div><h2 id="reference">Reference</h2><ul><li><code class="language-plaintext highlighter-rouge">genSequence(Iterable|Array|()=&gt;Iterable)</code> – generate a new Iterable from an Iterable, Array or function with the following functions.</li></ul><h3 id="filters">Filters</h3><ul><li><code class="language-plaintext highlighter-rouge">.filter(fn)</code> – just like array.filter, filters the sequence</li><li><code class="language-plaintext highlighter-rouge">.skip(n)</code> – skip <em>n</em> entries in the sequence</li><li><code class="language-plaintext highlighter-rouge">.take(n)</code> – take the next <em>n</em> entries in the sequence.</li></ul><h3 id="extenders">Extenders</h3><ul><li><code class="language-plaintext highlighter-rouge">.concat(iterable)</code> – this will extend the current sequence with the values from <em>iterable</em></li><li><code class="language-plaintext highlighter-rouge">.concatMap(fnMap)</code> – this is used to flatten the result of a map function.</li></ul><h3 id="mappers">Mappers</h3><ul><li><code class="language-plaintext highlighter-rouge">.combine(fnCombiner, iterable)</code> – is used to combine values from two different lists.</li><li><code class="language-plaintext highlighter-rouge">.map(fn)</code> – just like array.map, allows you to convert the values in a sequence.</li><li><code class="language-plaintext highlighter-rouge">.pipe(...operatorFns)</code> – pipe any amount of operators in sequence.</li><li><code class="language-plaintext highlighter-rouge">.scan(fn, init?)</code> – similar to reduce, but returns a sequence of all the results of fn.</li></ul><h3 id="reducers">Reducers</h3><ul><li><code class="language-plaintext highlighter-rouge">.all(fn)</code> – true if all values in the sequence return true for <em>fn(value)</em> or the sequence is empty.</li><li><code class="language-plaintext highlighter-rouge">.any(fn)</code> – true if any value in the sequence exists where <em>fn(value)</em> returns true.</li><li><code class="language-plaintext highlighter-rouge">.count()</code> – return the number of values in the sequence.</li><li><code class="language-plaintext highlighter-rouge">.first()</code> – return the next value in the sequence.</li><li><code class="language-plaintext highlighter-rouge">.first(fn)</code> – return the next value in the sequence where <em>fn(value)</em> return true.</li><li><code class="language-plaintext highlighter-rouge">.forEach(fn)</code> – apply <em>fn(value, index)</em> to all values.</li><li><code class="language-plaintext highlighter-rouge">.max()</code> – return the largest value in the sequence.</li><li><code class="language-plaintext highlighter-rouge">.max(fn)</code> – return the largest value of <em>fn(value)</em> in the sequence.</li><li><code class="language-plaintext highlighter-rouge">.min()</code> – return the smallest value in the sequence.</li><li><code class="language-plaintext highlighter-rouge">.min(fn)</code> – return the smallest value of <em>fn(value)</em> in the sequence.</li><li><code class="language-plaintext highlighter-rouge">.reduce(fn, init?)</code> – just like array.reduce, reduces the sequence into a single result.</li><li><code class="language-plaintext highlighter-rouge">.reduceAsync(fn, init?)</code> – just like array.reduce, reduces promises into the sequence into a single result chaining the promises, fn/init can be async or not, it will work, the previousValue, and currentValue will never be a promise.</li><li><code class="language-plaintext highlighter-rouge">.reduceToSequence(fn, init)</code> – return a sequence of values that <em>fn</em> creates from looking at all the values and the initial sequence.</li></ul><h3 id="cast">Cast</h3><ul><li><code class="language-plaintext highlighter-rouge">.toArray()</code> – convert the sequence into an array. This is the same as […iterable].</li><li><code class="language-plaintext highlighter-rouge">.toIterable()</code> – Casts a Sequence into an IterableIterator - used in cases where type checking is too strict.</li></ul></div></div></div><footer><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div><div class="col-lg-8 col-md-10 mx-auto"><ul class="list-inline text-center"><li class="list-inline-item"><a href="https://twitter.com/intent/tweet?text=GenSequence&url=https://ink.posstree.com/node_modules/gensequence/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Twitter </div></a></li><li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://ink.posstree.com/node_modules/gensequence/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Facebook </div></a></li><li class="list-inline-item"><a href="https://ink.posstree.com/feed.xml" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> RSS </div></a></li></ul><p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2025 </p></div></div></div></footer><script src="/assets/vendor/jquery/jquery.min.js"></script><script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script><script src="/assets/scripts.js?v=20250112"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/railscasts.min.css"></body></html>